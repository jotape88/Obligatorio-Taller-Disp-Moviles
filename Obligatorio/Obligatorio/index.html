<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="icon" href="data:,">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Importamos las hojas de estilo y el JavaScript que nos dice la documentación de Onsen UI. -->
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
    <script src="https://kit.fontawesome.com/2f331d9daf.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/jQuery.js"></script>
    <script type="text/javascript" src="js/clases.js"></script>
    <script type="text/javascript" src="js/miCodigo.js"></script>

    <title>Pantallas - Eventos de carga y pasaje de parámetros</title>
</head>

<body>

    <!-- El componente splitter es el componente que sostiene la vista con el menu lateral.  -->
    <ons-splitter>
        <!-- El splitter side contiene la página del menú lateral. -->
        <ons-splitter-side id="menu" side="left" width="220px" collapse swipeable>
            <ons-page>
                <ons-list>
                    <ons-list-header id="menu-list-header">Usuario</ons-list-header>
                    <ons-list-item onclick="navegar('home', false)" tappable>Home</ons-list-item>
                    <ons-list-item onclick="navegar('catalogo', false)" tappable>Catalogo</ons-list-item>
                    <!--Saque la funcion que llama al listado, y agregue un navegar directo a el template del catalogo-->
                    <ons-list-item onclick="verProducto(2)" tappable>Favoritos</ons-list-item>
                    <ons-list-item onclick="verProducto(3)" tappable>Pedidos</ons-list-item>

                    <!-- <ons-list-item onclick="navegarAtras()" tappable>Atrás</ons-list-item>
                    <ons-list-item onclick="navegar('home', true)" tappable>Resetear stack</ons-list-item>-->
                </ons-list>
            </ons-page>
        </ons-splitter-side>
        <!-- El spliiter content contiene la pagina a mostrar. -->
        <ons-splitter-content id="content">
            <!--
                    Dentro del spliiter content se carga el componente navigator que ya vimos, el cual se encargará de mostrar la página que quiero ver.
                    Por defecto estoy indicando que muestre la home.
                -->
            <ons-navigator swipeable id="myNavigator" page="login.html"></ons-navigator>
        </ons-splitter-content>
    </ons-splitter>


    <template id="login.html">
        <ons-page>
            <ons-toolbar>

                <div class="left">
                    <ons-toolbar-button id="btnMenuLogin" onclick="navegar('login', true)">
                        Ingresar
                    </ons-toolbar-button>
                    <ons-toolbar-button id="btnMenuRegistro" onclick="navegar('registro', true)">
                        Registrarse
                    </ons-toolbar-button>
                </div>

            </ons-toolbar>

            <div style="text-align: center; margin-top: 30px;">
                <h1>Login</h1>
                <p>
                    <ons-input id="txtLoginEmail" modifier="underbar" placeholder="Email" value="fcroce@k12.com" float>
                    </ons-input>
                </p>
                <p>
                    <ons-input id="txtLoginPassword" modifier="underbar" placeholder="Password" value="hola1234" float>
                    </ons-input>
                </p>

                <p style="margin-top: 30px;">
                    <ons-button id="btnLoginIniciarSesion" onclick="loginIniciarSesionHandler()">Iniciar Sesión
                    </ons-button>
                </p>
                <br>
                <p id="pLoginMensajes"></p>
                <!--TODO: pendiente, eliminar todos los p con mensajes-->
            </div>

        </ons-page>
    </template>

    <template id="registro.html">
        <ons-page>
            <ons-toolbar>

                <div class="left">
                    <ons-toolbar-button id="btnMenuLogin" onclick="navegar('login', true)">
                        Ingresar
                    </ons-toolbar-button>
                    <ons-toolbar-button id="btnMenuRegistro" onclick="navegar('registro', true)">
                        Registrarse
                    </ons-toolbar-button>
                </div>

            </ons-toolbar>


            <div style="text-align: center; margin-top: 30px;">
                <h1>Registro</h1>
                <p>
                    <ons-input id="txtRegistroEmail" modifier="underbar" placeholder="Email" float></ons-input>
                </p>
                <p>
                    <ons-input id="txtRegistroPassword" modifier="underbar" placeholder="Password" float></ons-input>
                </p>
                <p>
                    <ons-input id="txtRegistroRepPassword" modifier="underbar" placeholder="Repita el password" float>
                    </ons-input>
                </p>
                <p>
                    <ons-input id="txtRegistroNombre" modifier="underbar" placeholder="Nombre" float></ons-input>
                </p>
                <p>
                    <ons-input id="txtRegistroApellido" modifier="underbar" placeholder="Apellido" float></ons-input>
                </p>
                <p>
                    <ons-input id="txtRegistroDireccion" modifier="underbar" placeholder="Direccion" float></ons-input>
                </p>

                <p style="margin-top: 30px;">
                    <ons-button id="btnLoginRegistro" onclick="registroRegistrarseHandler()">Registrarse</ons-button>
                </p>
                <br>
                <p id="pLoginMensajes"></p>
            </div>

        </ons-page>
    </template>




    <template id="home.html">
        <ons-page>
            <!-- El toolbar coloca en la parte superior una barra donde puedo poner botones, textos, íconos, etc. -->
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="abrirMenu()">
                        <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">
                    Home
                </div>
                <div class="right">
                    <ons-toolbar-button onclick="cerrarSesion()">
                        Cerrar Sesion
                    </ons-toolbar-button>
                </div>

            </ons-toolbar>
        </ons-page>
    </template>


    <template id="catalogo.html">
        <ons-page>
            <script>
                ons.getScriptPage().onShow = cargarListadoProductos;
            </script>
            <script>
                document.addEventListener('init', function (event) {
                    if (event.target.matches('#catalogo')) {
                        ons.notification.alert('Page 1 is initiated.');
                        // Set up content...
                    }
                }, false);
            </script>
            <!-- El toolbar coloca en la parte superior una barra donde puedo poner botones, textos, íconos, etc. -->
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="abrirMenu()">
                        <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">
                    Catalogo de productos
                </div>
                <!--TODO: Al cambiar la pagina y volver al catalogo, no se muestran los productos-->
                <div class="right">
                    <ons-toolbar-button onclick="cerrarSesion()">
                        Cerrar Sesion
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>

            <ons-search-input id="txtFiltroProductos" modifier="underbar" placeholder="Filtro por nombre" value=""
                float></ons-search-input>
            <ons-button class="button button--material--flat" id="btnFiltroProductos"
                onclick="filtrarProductosXNombre()">Filtrar</ons-button>

            <div id="divProductosCatalogo">
            </div>
        </ons-page>
    </template>





    <template id="detalleProducto.html">
        <ons-page>
            <script>
                ons.getScriptPage().onShow = cargarDetalleProducto;
            </script>
            <script>
                document.addEventListener('init', function (event) {
                    if (event.target.matches('#detalleProducto')) {
                        ons.notification.alert('Page 1 is initiated.');
                        // Set up content...
                    }
                }, false);
            </script>
            <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="abrirMenu()">
                        <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">
                    Detalle del producto
                </div>
                <div class="right">
                    <ons-toolbar-button onclick="cerrarSesion()">
                        Cerrar Sesion
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <div id="divDetalleProductos"></div>
        </ons-page>
    </template>



    <template id="detalleDeCompra.html">
        <ons-page>
            <script>
                ons.getScriptPage().onShow = cargarDetalleCompra;
            </script>
            <script>
                document.addEventListener('init', function (event) {
                    if (event.target.matches('#detalleProducto')) {
                        ons.notification.alert('Page 1 is initiated.');
                        // Set up content...
                    }
                }, false);
            </script>
             <ons-toolbar>
                <div class="left">
                    <ons-toolbar-button onclick="abrirMenu()">
                        <ons-icon icon="md-menu"></ons-icon>
                    </ons-toolbar-button>
                </div>
                <div class="center">
                    Detalle de compra
                </div>
                <div class="right">
                    <ons-toolbar-button onclick="cerrarSesion()">
                        Cerrar Sesion
                    </ons-toolbar-button>
                </div>
            </ons-toolbar>
            <p style="text-align: center; margin-top: 10px;">
                <ons-search-input id="txtSearch" placeholder="Buscar por nombre" onchange=""></ons-search-input>

                <ons-button style=" margin-bottom: -14px;" modifier="quiet" onclick="">
                    <ons-icon style="font-size: 30px;  color: #2979ff;" icon="md-camera"></ons-icon>
                </ons-button>
            </p>
            <ons-card>
                <div class="title">
                    Felicitaciones por su compra
                </div>
                <div class="content">
                    <p id="pDetalleCompraMensaje"></p>
                </div>
            </ons-card>
        </ons-page>
    </template>
</body>

</html>